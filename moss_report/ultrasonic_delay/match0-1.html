<html>
<head>
<title>example/ultrasonic_delay.ino</title>
</head>
<body bgcolor="white">
<hr/>
completement/ultrasonic_delay.ino<p></p><pre>
#define echoPin 11
#define trigPin 12

<a name="0"></a><font color="#FF0000"><a href="match0-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_95.gif"/></a>

long distance_in_cm;

void setup() {
  Serial.begin(9600);
  pinMode(echoPin, INPUT);
  pinMode(trigPin, OUTPUT);
}

void loop() {
  measure_distance();
  Serial.print(distance_in_cm);
  Serial.println("");
  delay(1000);
}

void measure_distance() {
  long duration;
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  duration = pulseIn(echoPin, HIGH);
  distance_in_cm = (duration / 2.0) / 29.1;
</font>}
</pre>
</body>
</html>
